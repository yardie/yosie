  [4;36;1mSQL (1.1ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.7ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (2.6ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (2.8ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateBookings (20090721123754)
  [4;36;1mSQL (1.3ms)[0m   [0;1mCREATE TABLE "bookings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "ArrivalDate" date, "DepartureDate" date, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090721123754')[0m
  [4;36;1mSQL (5.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mPRAGMA index_list("bookings")[0m


Processing Rails::InfoController#properties (for 127.0.0.1 at 2009-07-21 13:39:50) [GET]
  [4;36;1mSQL (2.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
Completed in 247ms (View: 24, DB: 4) | 200 OK [http://localhost/rails/info/properties]


Processing ApplicationController#index (for 127.0.0.1 at 2009-07-21 13:40:25) [GET]

ActionController::RoutingError (No route matches "/" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing BookingsController#index (for 127.0.0.1 at 2009-07-21 13:41:23) [GET]
  [4;36;1mBooking Load (1.0ms)[0m   [0;1mSELECT * FROM "bookings" [0m
Rendering template within layouts/bookings
Rendering bookings/index
Completed in 120ms (View: 96, DB: 1) | 200 OK [http://localhost/]


Processing BookingsController#new (for 127.0.0.1 at 2009-07-21 13:41:30) [GET]
Rendering template within layouts/bookings
Rendering bookings/new
Completed in 928ms (View: 882, DB: 0) | 200 OK [http://localhost/bookings/new]


Processing BookingsController#create (for 127.0.0.1 at 2009-07-21 13:43:13) [POST]
  Parameters: {"commit"=>"Create", "authenticity_token"=>"UiZvVz5ARuyLr2IwA7Nzfzvdfh0rfCTM6twCIxf9FpY=", "booking"=>{"DepartureDate(1i)"=>"2009", "DepartureDate(2i)"=>"8", "DepartureDate(3i)"=>"1", "ArrivalDate(1i)"=>"2009", "ArrivalDate(2i)"=>"7", "ArrivalDate(3i)"=>"25"}}
  [4;35;1mBooking Create (1.3ms)[0m   [0mINSERT INTO "bookings" ("updated_at", "DepartureDate", "ArrivalDate", "created_at") VALUES('2009-07-21 12:43:14', '2009-08-01', '2009-07-25', '2009-07-21 12:43:14')[0m
Redirected to http://localhost:3000/bookings/1
Completed in 232ms (DB: 1) | 302 Found [http://localhost/bookings]


Processing BookingsController#show (for 127.0.0.1 at 2009-07-21 13:43:14) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBooking Load (1.1ms)[0m   [0;1mSELECT * FROM "bookings" WHERE ("bookings"."id" = 1) [0m
Rendering template within layouts/bookings
Rendering bookings/show
Completed in 172ms (View: 137, DB: 1) | 200 OK [http://localhost/bookings/1]


Processing BookingsController#index (for 127.0.0.1 at 2009-07-21 13:43:17) [GET]
  [4;35;1mBooking Load (1.9ms)[0m   [0mSELECT * FROM "bookings" [0m
Rendering template within layouts/bookings
Rendering bookings/index
Completed in 54ms (View: 26, DB: 2) | 200 OK [http://localhost/bookings]


Processing BookingsController#new (for 127.0.0.1 at 2009-07-21 13:43:33) [GET]
Rendering template within layouts/bookings
Rendering bookings/new
Completed in 87ms (View: 48, DB: 0) | 200 OK [http://localhost/bookings/new]


Processing BookingsController#create (for 127.0.0.1 at 2009-07-21 13:44:07) [POST]
  Parameters: {"commit"=>"Create", "authenticity_token"=>"UiZvVz5ARuyLr2IwA7Nzfzvdfh0rfCTM6twCIxf9FpY=", "booking"=>{"DepartureDate(1i)"=>"2009", "DepartureDate(2i)"=>"8", "DepartureDate(3i)"=>"2", "ArrivalDate(1i)"=>"2009", "ArrivalDate(2i)"=>"8", "ArrivalDate(3i)"=>"1"}}
  [4;36;1mBooking Create (4.6ms)[0m   [0;1mINSERT INTO "bookings" ("updated_at", "DepartureDate", "ArrivalDate", "created_at") VALUES('2009-07-21 12:44:07', '2009-08-02', '2009-08-01', '2009-07-21 12:44:07')[0m
Redirected to http://localhost:3000/bookings/2
Completed in 94ms (DB: 5) | 302 Found [http://localhost/bookings]


Processing BookingsController#show (for 127.0.0.1 at 2009-07-21 13:44:07) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mBooking Load (1.2ms)[0m   [0mSELECT * FROM "bookings" WHERE ("bookings"."id" = 2) [0m
Rendering template within layouts/bookings
Rendering bookings/show
Completed in 48ms (View: 9, DB: 1) | 200 OK [http://localhost/bookings/2]


Processing BookingsController#index (for 127.0.0.1 at 2009-07-21 13:44:09) [GET]
  [4;36;1mBooking Load (1.8ms)[0m   [0;1mSELECT * FROM "bookings" [0m
Rendering template within layouts/bookings
Rendering bookings/index
Completed in 89ms (View: 26, DB: 2) | 200 OK [http://localhost/bookings]


Processing UsersController#create (for 127.0.0.1 at 2009-07-21 13:47:46) [GET]

ActiveRecord::StatementInvalid (Could not find table 'users'):
  app/controllers/users_controller.rb:17:in `new'
  app/controllers/users_controller.rb:17:in `create'

Rendered rescues/_trace (112.9ms)
Rendered rescues/_request_and_response (8.1ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (2.1ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.9ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateBookings (20090721123754)
Migrating to CreateUsers (20090721124700)
  [4;36;1mSQL (0.7ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar(40), "name" varchar(100) DEFAULT '', "email" varchar(100), "crypted_password" varchar(40), "salt" varchar(40), "created_at" datetime, "updated_at" datetime, "remember_token" varchar(40), "remember_token_expires_at" datetime, "activation_code" varchar(40), "activated_at" datetime, "state" varchar(255) DEFAULT 'passive', "deleted_at" datetime) [0m
  [4;35;1mSQL (1.5ms)[0m   [0mCREATE UNIQUE INDEX "index_users_on_login" ON "users" ("login")[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090721124700')[0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mPRAGMA index_list("bookings")[0m
  [4;35;1mSQL (0.8ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mPRAGMA index_info('index_users_on_login')[0m


Processing UsersController#create (for 127.0.0.1 at 2009-07-21 13:48:22) [GET]
  [4;35;1mUser Exists (0.7ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."login" IS NULL) LIMIT 1[0m
  [4;36;1mUser Exists (0.7ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" IS NULL) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."login" IS NULL) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" IS NULL) LIMIT 1[0m
Rendering users/new
Completed in 309ms (View: 41, DB: 1) | 200 OK [http://localhost/register]


Processing UsersController#new (for 127.0.0.1 at 2009-07-21 13:48:30) [GET]
Rendering users/new
Completed in 97ms (View: 19, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#create (for 127.0.0.1 at 2009-07-21 13:48:45) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"republic", "password"=>"republic", "login"=>"bootsa", "email"=>"bootsa@orange.net"}, "commit"=>"Sign up", "authenticity_token"=>"UiZvVz5ARuyLr2IwA7Nzfzvdfh0rfCTM6twCIxf9FpY="}
  [4;35;1mUser Exists (0.6ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."login" = 'bootsa') LIMIT 1[0m
  [4;36;1mUser Exists (0.6ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'bootsa@orange.net') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."login" = 'bootsa') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'bootsa@orange.net') LIMIT 1[0m

NameError (uninitialized constant Authentication::ByPassword::ModelClassMethods::REST_AUTH_SITE_KEY):
  vendor/plugins/restful_authentication/rails/./lib/authentication/by_password.rb:31:in `password_digest'
  vendor/plugins/restful_authentication/rails/./lib/authentication/by_password.rb:46:in `encrypt'
  vendor/plugins/restful_authentication/rails/./lib/authentication/by_password.rb:57:in `encrypt_password'
  app/controllers/users_controller.rb:18:in `create'

Rendered rescues/_trace (141.7ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#create (for 127.0.0.1 at 2009-07-21 13:51:13) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"republic", "password"=>"republic", "login"=>"bootsa", "email"=>"bootsa@orange.net"}, "commit"=>"Sign up", "authenticity_token"=>"UiZvVz5ARuyLr2IwA7Nzfzvdfh0rfCTM6twCIxf9FpY="}
  [4;35;1mUser Exists (0.6ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."login" = 'bootsa') LIMIT 1[0m
  [4;36;1mUser Exists (0.7ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'bootsa@orange.net') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."login" = 'bootsa') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'bootsa@orange.net') LIMIT 1[0m

NameError (uninitialized constant Authentication::ByPassword::ModelClassMethods::REST_AUTH_SITE_KEY):
  vendor/plugins/restful_authentication/rails/./lib/authentication/by_password.rb:31:in `password_digest'
  vendor/plugins/restful_authentication/rails/./lib/authentication/by_password.rb:46:in `encrypt'
  vendor/plugins/restful_authentication/rails/./lib/authentication/by_password.rb:57:in `encrypt_password'
  app/controllers/users_controller.rb:18:in `create'

Rendered rescues/_trace (128.8ms)
Rendered rescues/_request_and_response (0.9ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#create (for 127.0.0.1 at 2009-07-21 13:51:21) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"republic", "password"=>"republic", "login"=>"bootsa", "email"=>"bootsa@orange.net"}, "commit"=>"Sign up", "authenticity_token"=>"UiZvVz5ARuyLr2IwA7Nzfzvdfh0rfCTM6twCIxf9FpY="}
  [4;35;1mUser Exists (0.6ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."login" = 'bootsa') LIMIT 1[0m
  [4;36;1mUser Exists (0.6ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'bootsa@orange.net') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."login" = 'bootsa') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'bootsa@orange.net') LIMIT 1[0m

NameError (uninitialized constant Authentication::ByPassword::ModelClassMethods::REST_AUTH_SITE_KEY):
  vendor/plugins/restful_authentication/rails/./lib/authentication/by_password.rb:31:in `password_digest'
  vendor/plugins/restful_authentication/rails/./lib/authentication/by_password.rb:46:in `encrypt'
  vendor/plugins/restful_authentication/rails/./lib/authentication/by_password.rb:57:in `encrypt_password'
  app/controllers/users_controller.rb:18:in `create'

Rendered rescues/_trace (336.6ms)
Rendered rescues/_request_and_response (2.4ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#new (for 127.0.0.1 at 2009-07-21 13:52:19) [GET]
Rendering users/new
Completed in 494ms (View: 73, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#create (for 127.0.0.1 at 2009-07-21 13:55:05) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"republic", "password"=>"republic", "login"=>"bootsa", "email"=>"bootsa@orange.net"}, "commit"=>"Sign up", "authenticity_token"=>"UiZvVz5ARuyLr2IwA7Nzfzvdfh0rfCTM6twCIxf9FpY="}
  [4;36;1mUser Exists (1.5ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'bootsa') LIMIT 1[0m
  [4;35;1mUser Exists (0.6ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'bootsa@orange.net') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'bootsa') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'bootsa@orange.net') LIMIT 1[0m
  [4;36;1mUser Create (1.4ms)[0m   [0;1mINSERT INTO "users" ("name", "salt", "updated_at", "activated_at", "crypted_password", "deleted_at", "remember_token_expires_at", "activation_code", "remember_token", "login", "email", "created_at", "state") VALUES('', 'd3d3d34affe6cfa6628d8c7f7b9aea57ed9d3e3b', '2009-07-21 12:55:06', NULL, '0fb6c0395aa65d359fa91020d7ddd2ea26a80509', NULL, NULL, '0574d306aca2840d1deeb9831909068551ebd076', NULL, 'bootsa', 'bootsa@orange.net', '2009-07-21 12:55:06', 'pending')[0m
  [4;35;1mUser Exists (0.7ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."login" = 'bootsa' AND "users".id <> 1) LIMIT 1[0m
  [4;36;1mUser Exists (0.7ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'bootsa@orange.net' AND "users".id <> 1) LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 362ms (DB: 5) | 302 Found [http://localhost/users]


Processing BookingsController#index (for 127.0.0.1 at 2009-07-21 13:55:06) [GET]
  [4;35;1mBooking Load (1.9ms)[0m   [0mSELECT * FROM "bookings" [0m
Rendering template within layouts/bookings
Rendering bookings/index
Completed in 105ms (View: 80, DB: 2) | 200 OK [http://localhost/]


Processing UsersController#index (for 127.0.0.1 at 2009-07-21 14:18:15) [GET]

ActionController::UnknownAction (No action responded to index. Actions: activate, create, destroy, new, purge, suspend, and unsuspend):
  

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-07-21 14:18:28) [GET]

ActionController::RoutingError (No route matches "/activate" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing UsersController#show (for 127.0.0.1 at 2009-07-21 14:18:39) [GET]
  Parameters: {"id"=>"activate"}

ActionController::UnknownAction (No action responded to show. Actions: activate, create, destroy, new, purge, suspend, and unsuspend):
  

Rendering rescues/layout (not_found)


Processing UsersController#new (for 127.0.0.1 at 2009-07-21 14:29:13) [GET]
Rendering template within layouts/application
Rendering users/new

ActionView::TemplateError (undefined method `name' for #<UsersController:0x13bc8a0>) on line #7 of app/views/layouts/application.html.erb:
4: <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
5: <head>
6:   <meta http-equiv="content-type" content="text/html;charset=UTF-8" />
7:   <title><%= controller.name %> <%= controller.action_name %></title>
8:   <%= stylesheet_link_tag 'scaffold' %>
9: </head>
10: <body>

    app/views/layouts/application.html.erb:7

Rendered rescues/_trace (142.3ms)
Rendered rescues/_request_and_response (3.8ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#new (for 127.0.0.1 at 2009-07-21 14:29:48) [GET]
Rendering template within layouts/application
Rendering users/new
Completed in 119ms (View: 35, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#new (for 127.0.0.1 at 2009-07-21 14:30:14) [GET]
Rendering template within layouts/application
Rendering users/new
Completed in 150ms (View: 33, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#new (for 127.0.0.1 at 2009-07-21 14:30:23) [GET]
Rendering template within layouts/application
Rendering users/new
Completed in 111ms (View: 33, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#new (for 127.0.0.1 at 2009-07-21 14:30:50) [GET]
Rendering template within layouts/application
Rendering users/new
Completed in 125ms (View: 50, DB: 0) | 200 OK [http://localhost/users/new]


Processing BookingsController#index (for 127.0.0.1 at 2009-07-21 14:31:00) [GET]
  [4;36;1mBooking Load (2.4ms)[0m   [0;1mSELECT * FROM "bookings" [0m
Rendering template within layouts/application
Rendering bookings/index
Completed in 160ms (View: 106, DB: 2) | 200 OK [http://localhost/bookings]


Processing BookingsController#index (for 127.0.0.1 at 2009-07-21 14:56:18) [GET]
  [4;35;1mBooking Load (2.0ms)[0m   [0mSELECT * FROM "bookings" [0m
Rendering template within layouts/application
Rendering bookings/index

ActionView::TemplateError (undefined method `logged_in?' for #<ActionView::Base:0x31dd334>) on line #12 of app/views/layouts/application.html.erb:
9: </head>
10: <body>
11: 	<div class="infoPane">
12: 	 <% if logged_in? -%>
13: 	 <div class="logBox">
14: 	   <%= link_to 'Logout', logout_path %> of <strong><%= link_to_user current_user %></strong>
15: 	 </div>

    app/views/layouts/application.html.erb:12
    app/controllers/bookings_controller.rb:7:in `index'

Rendered rescues/_trace (338.4ms)
Rendered rescues/_request_and_response (0.9ms)
Rendering rescues/layout (internal_server_error)


Processing BookingsController#index (for 127.0.0.1 at 2009-07-21 14:57:40) [GET]
  [4;36;1mBooking Load (2.5ms)[0m   [0;1mSELECT * FROM "bookings" [0m
Rendering template within layouts/application
Rendering bookings/index
Completed in 125ms (View: 81, DB: 2) | 200 OK [http://localhost/bookings]


Processing SessionsController#new (for 127.0.0.1 at 2009-07-21 14:57:45) [GET]
Rendering template within layouts/application
Rendering sessions/new
Completed in 58ms (View: 52, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#create (for 127.0.0.1 at 2009-07-21 14:57:53) [POST]
  Parameters: {"commit"=>"Log in", "authenticity_token"=>"UiZvVz5ARuyLr2IwA7Nzfzvdfh0rfCTM6twCIxf9FpY=", "login"=>"bootsa", "password"=>""}
Failed login for 'bootsa' from 127.0.0.1 at Tue Jul 21 13:57:53 UTC 2009
Rendering template within layouts/application
Rendering sessions/new
Completed in 108ms (View: 9, DB: 0) | 200 OK [http://localhost/session]


Processing ApplicationController#index (for 127.0.0.1 at 2009-07-21 14:58:18) [GET]

ActionController::RoutingError (No route matches "/activate/bootsa" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing SessionsController#new (for 127.0.0.1 at 2009-07-21 14:59:59) [GET]
Rendering template within layouts/application
Rendering sessions/new
Completed in 18ms (View: 14, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#new (for 127.0.0.1 at 2009-07-21 15:01:10) [GET]
Rendering template within layouts/application
Rendering sessions/new
Completed in 37ms (View: 30, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#create (for 127.0.0.1 at 2009-07-21 15:01:18) [POST]
  Parameters: {"commit"=>"Log in", "authenticity_token"=>"UiZvVz5ARuyLr2IwA7Nzfzvdfh0rfCTM6twCIxf9FpY=", "login"=>"bootsa", "password"=>""}
Failed login for 'bootsa' from 127.0.0.1 at Tue Jul 21 14:01:18 UTC 2009
Rendering template within layouts/application
Rendering sessions/new
Completed in 78ms (View: 9, DB: 0) | 200 OK [http://localhost/session]


Processing SessionsController#create (for 127.0.0.1 at 2009-07-21 15:02:48) [POST]
  Parameters: {"commit"=>"Log in", "authenticity_token"=>"UiZvVz5ARuyLr2IwA7Nzfzvdfh0rfCTM6twCIxf9FpY=", "login"=>"bootsa", "password"=>""}
Failed login for 'bootsa' from 127.0.0.1 at Tue Jul 21 14:02:48 UTC 2009
Rendering template within layouts/application
Rendering sessions/new
Completed in 264ms (View: 203, DB: 0) | 200 OK [http://localhost/session]


Processing BookingsController#index (for 127.0.0.1 at 2009-07-21 15:03:03) [GET]
  [4;35;1mBooking Load (1.9ms)[0m   [0mSELECT * FROM "bookings" [0m
Rendering template within layouts/bookings
Rendering bookings/index
Completed in 103ms (View: 67, DB: 2) | 200 OK [http://localhost/]


Processing SessionsController#new (for 127.0.0.1 at 2009-07-21 15:03:07) [GET]
Rendering template within layouts/application
Rendering sessions/new
Completed in 13ms (View: 7, DB: 0) | 200 OK [http://localhost/login]


Processing UsersController#activate (for 127.0.0.1 at 2009-07-21 15:33:28) [GET]
  Parameters: {"id"=>"0574d306aca2840d1deeb9831909068551ebd076"}
Redirected to http://localhost:3000/
Completed in 67ms (DB: 0) | 302 Found [http://localhost/users/activate/0574d306aca2840d1deeb9831909068551ebd076]


Processing BookingsController#index (for 127.0.0.1 at 2009-07-21 15:33:28) [GET]
  [4;36;1mBooking Load (1.9ms)[0m   [0;1mSELECT * FROM "bookings" [0m
Rendering template within layouts/bookings
Rendering bookings/index
Completed in 80ms (View: 31, DB: 2) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2009-07-21 15:34:04) [GET]

ActionController::RoutingError (No route matches "/activate/0574d306aca2840d1deeb9831909068551ebd076" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing UsersController#activate (for 127.0.0.1 at 2009-07-21 15:35:24) [GET]
  Parameters: {"activation_code"=>"0574d306aca2840d1deeb9831909068551ebd076"}
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."activation_code" = '0574d306aca2840d1deeb9831909068551ebd076') LIMIT 1[0m
  [4;36;1mUser Exists (0.7ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'bootsa' AND "users".id <> 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'bootsa@orange.net' AND "users".id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE "users" SET "activated_at" = '2009-07-21 14:35:25', "activation_code" = NULL, "state" = 'active', "updated_at" = '2009-07-21 14:35:25' WHERE "id" = 1[0m
Redirected to http://localhost:3000/login
Completed in 1375ms (DB: 4) | 302 Found [http://localhost/activate/0574d306aca2840d1deeb9831909068551ebd076]


Processing SessionsController#new (for 127.0.0.1 at 2009-07-21 15:35:26) [GET]
Rendering template within layouts/application
Rendering sessions/new
Completed in 18ms (View: 11, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#new (for 127.0.0.1 at 2009-07-21 15:35:27) [GET]
Rendering template within layouts/application
Rendering sessions/new
Completed in 14ms (View: 10, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#create (for 127.0.0.1 at 2009-07-21 15:35:33) [POST]
  Parameters: {"commit"=>"Log in", "authenticity_token"=>"UiZvVz5ARuyLr2IwA7Nzfzvdfh0rfCTM6twCIxf9FpY=", "login"=>"bootsa", "password"=>""}
Failed login for 'bootsa' from 127.0.0.1 at Tue Jul 21 14:35:33 UTC 2009
Rendering template within layouts/application
Rendering sessions/new
Completed in 79ms (View: 12, DB: 0) | 200 OK [http://localhost/session]


Processing BookingsController#index (for 127.0.0.1 at 2009-07-21 15:35:39) [GET]
  [4;35;1mBooking Load (10.2ms)[0m   [0mSELECT * FROM "bookings" [0m
Rendering template within layouts/bookings
Rendering bookings/index
Completed in 599ms (View: 66, DB: 10) | 200 OK [http://localhost/]


Processing SessionsController#new (for 127.0.0.1 at 2009-07-21 15:35:43) [GET]
Rendering template within layouts/application
Rendering sessions/new
Completed in 23ms (View: 15, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#create (for 127.0.0.1 at 2009-07-21 15:35:46) [POST]
  Parameters: {"commit"=>"Log in", "authenticity_token"=>"UiZvVz5ARuyLr2IwA7Nzfzvdfh0rfCTM6twCIxf9FpY=", "login"=>"bootsa@orange.net", "password"=>"republic"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."login" = 'bootsa@orange.net') AND (users.state = 'active') LIMIT 1[0m
Failed login for 'bootsa@orange.net' from 127.0.0.1 at Tue Jul 21 14:35:46 UTC 2009
Rendering template within layouts/application
Rendering sessions/new
Completed in 113ms (View: 9, DB: 1) | 200 OK [http://localhost/session]


Processing SessionsController#create (for 127.0.0.1 at 2009-07-21 15:35:53) [POST]
  Parameters: {"commit"=>"Log in", "authenticity_token"=>"UiZvVz5ARuyLr2IwA7Nzfzvdfh0rfCTM6twCIxf9FpY=", "login"=>"bootsa@orange.net", "password"=>"republic"}
  [4;35;1mUser Load (2.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."login" = 'bootsa@orange.net') AND (users.state = 'active') LIMIT 1[0m
Failed login for 'bootsa@orange.net' from 127.0.0.1 at Tue Jul 21 14:35:53 UTC 2009
Rendering template within layouts/application
Rendering sessions/new
Completed in 80ms (View: 9, DB: 2) | 200 OK [http://localhost/session]


Processing SessionsController#create (for 127.0.0.1 at 2009-07-21 15:36:01) [POST]
  Parameters: {"commit"=>"Log in", "authenticity_token"=>"UiZvVz5ARuyLr2IwA7Nzfzvdfh0rfCTM6twCIxf9FpY=", "login"=>"bootsa", "password"=>""}
Failed login for 'bootsa' from 127.0.0.1 at Tue Jul 21 14:36:01 UTC 2009
Rendering template within layouts/application
Rendering sessions/new
Completed in 148ms (View: 10, DB: 0) | 200 OK [http://localhost/session]


Processing SessionsController#create (for 127.0.0.1 at 2009-07-21 15:36:09) [POST]
  Parameters: {"commit"=>"Log in", "authenticity_token"=>"UiZvVz5ARuyLr2IwA7Nzfzvdfh0rfCTM6twCIxf9FpY=", "login"=>"bootsa", "password"=>"republic"}
  [4;36;1mUser Load (12.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."login" = 'bootsa') AND (users.state = 'active') LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 98ms (DB: 12) | 302 Found [http://localhost/session]


Processing BookingsController#index (for 127.0.0.1 at 2009-07-21 15:36:10) [GET]
  [4;35;1mBooking Load (1.9ms)[0m   [0mSELECT * FROM "bookings" [0m
Rendering template within layouts/bookings
Rendering bookings/index
  [4;36;1mUser Load (1.8ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 516ms (View: 461, DB: 4) | 200 OK [http://localhost/]
  [4;36;1mSQL (2.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (4.8ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateBookings (20090721123754)
Migrating to CreateUsers (20090721124700)
Migrating to ChangeNameStructureInUsers (20090721144045)
  [4;36;1mSQL (0.7ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (4.4ms)[0m   [0mALTER TABLE "users" ADD "surname" varchar(255)[0m
  [4;36;1mSQL (4.6ms)[0m   [0;1mCREATE TEMPORARY TABLE "altered_users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar(40), "firstname" varchar(100) DEFAULT '', "email" varchar(100), "crypted_password" varchar(40), "salt" varchar(40), "created_at" datetime, "updated_at" datetime, "remember_token" varchar(40), "remember_token_expires_at" datetime, "activation_code" varchar(40), "activated_at" datetime, "state" varchar(255) DEFAULT 'passive', "deleted_at" datetime, "surname" varchar(255)) [0m
  [4;35;1mSQL (0.9ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (2.7ms)[0m   [0;1mPRAGMA index_info('index_users_on_login')[0m
  [4;35;1mSQL (3.4ms)[0m   [0mCREATE UNIQUE INDEX "temp_index_altered_users_on_login" ON "altered_users" ("login")[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mDROP TABLE "users"[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar(40), "firstname" varchar(100) DEFAULT '', "email" varchar(100), "crypted_password" varchar(40), "salt" varchar(40), "created_at" datetime, "updated_at" datetime, "remember_token" varchar(40), "remember_token_expires_at" datetime, "activation_code" varchar(40), "activated_at" datetime, "state" varchar(255) DEFAULT 'passive', "deleted_at" datetime, "surname" varchar(255)) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mPRAGMA index_list("altered_users")[0m
  [4;35;1mSQL (0.6ms)[0m   [0mPRAGMA index_info('temp_index_altered_users_on_login')[0m
  [4;36;1mSQL (5.1ms)[0m   [0;1mCREATE UNIQUE INDEX "index_users_on_login" ON "users" ("login")[0m
  [4;35;1mSQL (0.9ms)[0m   [0mDROP TABLE "altered_users"[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090721144045')[0m
  [4;35;1mSQL (3.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (8.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mPRAGMA index_list("bookings")[0m
  [4;35;1mSQL (0.7ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mPRAGMA index_info('index_users_on_login')[0m


Processing UsersController#new (for 127.0.0.1 at 2009-07-21 16:02:28) [GET]
Rendering template within layouts/application
Rendering users/new
Completed in 133ms (View: 29, DB: 0) | 200 OK [http://localhost/signup]
  [4;36;1mSQL (3.1ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.7ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateBookings (20090721123754)
Migrating to CreateUsers (20090721124700)
Migrating to ChangeNameStructureInUsers (20090721144045)
Migrating to AddUserIdToBookings (20090721150515)
  [4;36;1mSQL (1.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.5ms)[0m   [0mALTER TABLE "bookings" ADD "user_id" integer[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090721150515')[0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (1.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mPRAGMA index_list("bookings")[0m
  [4;35;1mSQL (2.8ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mPRAGMA index_info('index_users_on_login')[0m


Processing BookingsController#index (for 127.0.0.1 at 2009-07-21 16:10:39) [GET]
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mBooking Load (0.6ms)[0m   [0mSELECT * FROM "bookings" WHERE ("bookings".user_id = 1) [0m
Rendering template within layouts/bookings
Rendering bookings/index
Completed in 206ms (View: 7, DB: 4) | 200 OK [http://localhost/]


Processing BookingsController#index (for 127.0.0.1 at 2009-07-21 16:11:17) [GET]
  [4;36;1mUser Load (2.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mUser Load (5.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mBooking Load (1.3ms)[0m   [0;1mSELECT * FROM "bookings" WHERE ("bookings".user_id = 1) [0m
Rendering template within layouts/bookings
Rendering bookings/index
Completed in 233ms (View: 41, DB: 8) | 200 OK [http://localhost/]


Processing BookingsController#index (for 127.0.0.1 at 2009-07-21 16:11:38) [GET]
  [4;35;1mUser Load (1.7ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mUser Load (2.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mBooking Load (2.0ms)[0m   [0mSELECT * FROM "bookings" WHERE ("bookings".user_id = 1) [0m
Rendering template within layouts/bookings
Rendering bookings/index
Completed in 142ms (View: 25, DB: 6) | 200 OK [http://localhost/]


Processing BookingsController#show (for 127.0.0.1 at 2009-07-21 16:29:22) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBooking Load (1.1ms)[0m   [0;1mSELECT * FROM "bookings" WHERE ("bookings"."id" = 1) [0m
Rendering template within layouts/bookings
Rendering bookings/show

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.each) on line #13 of app/views/bookings/show.html.erb:
10: 
11: <p>
12:   <b>Notes:</b>
13: <% for note in @bookings -%>
14:   <p>
15:     <%=h booking.note %>
16:   </p>

    app/views/bookings/show.html.erb:13
    app/controllers/bookings_controller.rb:19:in `show'

Rendered rescues/_trace (570.1ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (3.1ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateBookings (20090721123754)
Migrating to CreateUsers (20090721124700)
Migrating to ChangeNameStructureInUsers (20090721144045)
Migrating to AddUserIdToBookings (20090721150515)
Migrating to CreateBookingNotes (20090721151909)
  [4;36;1mSQL (0.7ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (3.8ms)[0m   [0mCREATE TABLE "booking_notes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "booking_id" integer, "note" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090721151909')[0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mPRAGMA index_list("booking_notes")[0m
  [4;35;1mSQL (0.3ms)[0m   [0mPRAGMA index_list("bookings")[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;35;1mSQL (0.7ms)[0m   [0mPRAGMA index_info('index_users_on_login')[0m


Processing BookingsController#show (for 127.0.0.1 at 2009-07-21 16:32:23) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBooking Load (1.8ms)[0m   [0mSELECT * FROM "bookings" WHERE ("bookings"."id" = 1) [0m
Rendering template within layouts/bookings
Rendering bookings/show

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.each) on line #13 of app/views/bookings/show.html.erb:
10: 
11: <p>
12:   <b>Notes:</b>
13: <% for note in @bookings -%>
14:   <p>
15:     <%=h booking.note %>
16:   </p>

    app/views/bookings/show.html.erb:13
    app/controllers/bookings_controller.rb:19:in `show'

Rendered rescues/_trace (316.2ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BookingsController#show (for 127.0.0.1 at 2009-07-21 16:32:53) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBooking Load (1.2ms)[0m   [0;1mSELECT * FROM "bookings" WHERE ("bookings"."id" = 1) [0m
Rendering template within layouts/bookings
Rendering bookings/show

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.each) on line #13 of app/views/bookings/show.html.erb:
10: 
11: <p>
12:   <b>Notes:</b>
13: <% for booking in @bookings -%>
14:   <p>
15:     <%=h booking.note %>
16:   </p>

    app/views/bookings/show.html.erb:13
    app/controllers/bookings_controller.rb:19:in `show'

Rendered rescues/_trace (131.6ms)
Rendered rescues/_request_and_response (0.9ms)
Rendering rescues/layout (internal_server_error)


Processing BookingsController#show (for 127.0.0.1 at 2009-07-21 16:33:04) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBooking Load (1.2ms)[0m   [0mSELECT * FROM "bookings" WHERE ("bookings"."id" = 1) [0m
Rendering template within layouts/bookings
Rendering bookings/show

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.each) on line #13 of app/views/bookings/show.html.erb:
10: 
11: <p>
12:   <b>Notes:</b>
13: <% for booking in @bookings -%>
14:   <p>
15:     <%=h booking.booking_note %>
16:   </p>

    app/views/bookings/show.html.erb:13
    app/controllers/bookings_controller.rb:19:in `show'

Rendered rescues/_trace (131.4ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (internal_server_error)


Processing BookingsController#show (for 127.0.0.1 at 2009-07-21 16:33:21) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBooking Load (1.2ms)[0m   [0;1mSELECT * FROM "bookings" WHERE ("bookings"."id" = 1) [0m
Rendering template within layouts/bookings
Rendering bookings/show

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.each) on line #13 of app/views/bookings/show.html.erb:
10: 
11: <p>
12:   <b>Notes:</b>
13: <% for booking in @bookings -%>
14:   <p>
15:     <%=h booking %>
16:   </p>

    app/views/bookings/show.html.erb:13
    app/controllers/bookings_controller.rb:19:in `show'

Rendered rescues/_trace (131.9ms)
Rendered rescues/_request_and_response (0.9ms)
Rendering rescues/layout (internal_server_error)


Processing BookingsController#show (for 127.0.0.1 at 2009-07-21 16:33:33) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBooking Load (2.8ms)[0m   [0mSELECT * FROM "bookings" WHERE ("bookings"."id" = 1) [0m
Rendering template within layouts/bookings
Rendering bookings/show

ActionView::TemplateError (undefined method `each' for #<Booking:0x32220c4>) on line #13 of app/views/bookings/show.html.erb:
10: 
11: <p>
12:   <b>Notes:</b>
13: <% for booking in @booking -%>
14:   <p>
15:     <%=h booking %>
16:   </p>

    app/views/bookings/show.html.erb:13
    app/controllers/bookings_controller.rb:19:in `show'

Rendered rescues/_trace (142.9ms)
Rendered rescues/_request_and_response (0.9ms)
Rendering rescues/layout (internal_server_error)


Processing BookingsController#show (for 127.0.0.1 at 2009-07-21 16:33:54) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBooking Load (1.7ms)[0m   [0;1mSELECT * FROM "bookings" WHERE ("bookings"."id" = 1) [0m
Rendering template within layouts/bookings
Rendering bookings/show

ActionView::TemplateError (undefined method `each' for #<Booking:0x323e814>) on line #13 of app/views/bookings/show.html.erb:
10: 
11: <p>
12:   <b>Notes:</b>
13: <% for booking in @booking -%>
14:   <p>
15:     <%=h booking.booking_note %>
16:   </p>

    app/views/bookings/show.html.erb:13
    app/controllers/bookings_controller.rb:19:in `show'

Rendered rescues/_trace (134.2ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (internal_server_error)


Processing BookingsController#show (for 127.0.0.1 at 2009-07-21 16:34:00) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBooking Load (1.2ms)[0m   [0mSELECT * FROM "bookings" WHERE ("bookings"."id" = 1) [0m
Rendering template within layouts/bookings
Rendering bookings/show

ActionView::TemplateError (undefined method `each' for #<Booking:0x327a5d0>) on line #13 of app/views/bookings/show.html.erb:
10: 
11: <p>
12:   <b>Notes:</b>
13: <% for booking in @booking -%>
14:   <p>
15:     <%=h booking.booking_notes %>
16:   </p>

    app/views/bookings/show.html.erb:13
    app/controllers/bookings_controller.rb:19:in `show'

Rendered rescues/_trace (333.6ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (internal_server_error)


Processing BookingsController#show (for 127.0.0.1 at 2009-07-21 16:34:23) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBooking Load (1.2ms)[0m   [0;1mSELECT * FROM "bookings" WHERE ("bookings"."id" = 1) [0m
Rendering template within layouts/bookings
Rendering bookings/show

ActionView::TemplateError (undefined method `each' for #<Booking:0x32eb30c>) on line #13 of app/views/bookings/show.html.erb:
10: 
11: <p>
12:   <b>Notes:</b>
13: <% for booking in @booking -%>
14:   <p>
15:     <%=h booking.note %>
16:   </p>

    app/views/bookings/show.html.erb:13
    app/controllers/bookings_controller.rb:19:in `show'

Rendered rescues/_trace (352.1ms)
Rendered rescues/_request_and_response (1.4ms)
Rendering rescues/layout (internal_server_error)


Processing BookingsController#show (for 127.0.0.1 at 2009-07-21 16:34:28) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBooking Load (1.1ms)[0m   [0mSELECT * FROM "bookings" WHERE ("bookings"."id" = 1) [0m
Rendering template within layouts/bookings
Rendering bookings/show

ActionView::TemplateError (undefined method `each' for #<Booking:0x3362998>) on line #13 of app/views/bookings/show.html.erb:
10: 
11: <p>
12:   <b>Notes:</b>
13: <% for booking in @booking -%>
14:   <p>
15:     <%=h booking.notes %>
16:   </p>

    app/views/bookings/show.html.erb:13
    app/controllers/bookings_controller.rb:19:in `show'

Rendered rescues/_trace (335.2ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BookingsController#show (for 127.0.0.1 at 2009-07-21 16:35:06) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBooking Load (1.3ms)[0m   [0;1mSELECT * FROM "bookings" WHERE ("bookings"."id" = 1) [0m
Rendering template within layouts/bookings
Rendering bookings/show

ActionView::TemplateError (undefined method `each' for #<Booking:0x33e80e8>) on line #13 of app/views/bookings/show.html.erb:
10: 
11: <p>
12:   <b>Notes:</b>
13: <% for booking in @booking -%>
14:   <p>
15:     <%=h booking.BookingNotes %>
16:   </p>

    app/views/bookings/show.html.erb:13
    app/controllers/bookings_controller.rb:19:in `show'

Rendered rescues/_trace (144.4ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (internal_server_error)


Processing BookingsController#show (for 127.0.0.1 at 2009-07-21 16:37:13) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBooking Load (1.2ms)[0m   [0mSELECT * FROM "bookings" WHERE ("bookings"."id" = 1) [0m

NoMethodError (undefined method `find' for #<Booking:0x34532e4>):
  app/controllers/bookings_controller.rb:18:in `show'

Rendered rescues/_trace (102.9ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (internal_server_error)


Processing BookingsController#show (for 127.0.0.1 at 2009-07-21 16:38:13) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBooking Load (1.2ms)[0m   [0;1mSELECT * FROM "bookings" WHERE ("bookings"."id" = 1) [0m

NameError (uninitialized constant Booking::BookingNote):
  app/controllers/bookings_controller.rb:18:in `show'

Rendered rescues/_trace (328.7ms)
Rendered rescues/_request_and_response (2.7ms)
Rendering rescues/layout (internal_server_error)


Processing BookingsController#show (for 127.0.0.1 at 2009-07-21 16:38:45) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBooking Load (1.5ms)[0m   [0mSELECT * FROM "bookings" WHERE ("bookings"."id" = 1) [0m

NameError (uninitialized constant Booking::BookingNote):
  app/controllers/bookings_controller.rb:18:in `show'

Rendered rescues/_trace (119.6ms)
Rendered rescues/_request_and_response (1.6ms)
Rendering rescues/layout (internal_server_error)


Processing BookingsController#show (for 127.0.0.1 at 2009-07-21 16:38:50) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBooking Load (1.1ms)[0m   [0;1mSELECT * FROM "bookings" WHERE ("bookings"."id" = 1) [0m

NameError (uninitialized constant Booking::BookingNote):
  app/controllers/bookings_controller.rb:18:in `show'

Rendered rescues/_trace (313.7ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (8.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.9ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (4.7ms)[0m   [0;1mCREATE TABLE "booking_notes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "booking_id" integer, "note" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (3.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (20.4ms)[0m   [0;1mCREATE TABLE "bookings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "ArrivalDate" date, "DepartureDate" date, "created_at" datetime, "updated_at" datetime, "user_id" integer) [0m
  [4;35;1mSQL (1.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (8.8ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar(40), "firstname" varchar(100) DEFAULT '', "email" varchar(100), "crypted_password" varchar(40), "salt" varchar(40), "created_at" datetime, "updated_at" datetime, "remember_token" varchar(40), "remember_token_expires_at" datetime, "activation_code" varchar(40), "activated_at" datetime, "state" varchar(255) DEFAULT 'passive', "deleted_at" datetime, "surname" varchar(255)) [0m
  [4;35;1mSQL (4.0ms)[0m   [0mCREATE UNIQUE INDEX "index_users_on_login" ON "users" ("login")[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (4.7ms)[0m   [0mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;36;1mSQL (36.2ms)[0m   [0;1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT version FROM "schema_migrations"[0m
  [4;35;1mSQL (3.8ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090721151909')[0m
  [4;36;1mSQL (3.3ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090721123754')[0m
  [4;35;1mSQL (5.8ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090721124700')[0m
  [4;36;1mSQL (9.0ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090721144045')[0m
  [4;35;1mSQL (6.3ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090721150515')[0m
  [4;36;1mSQL (4.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.7ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (5.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateBookingNotes (20090721151909)
  [4;36;1mSQL (0.7ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (22.5ms)[0m   [0mDROP TABLE "booking_notes"[0m
  [4;36;1mSQL (4.7ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090721151909'[0m
  [4;35;1mSQL (1.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (20.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mPRAGMA index_list("bookings")[0m
  [4;35;1mSQL (0.8ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mPRAGMA index_info('index_users_on_login')[0m
  [4;36;1mSQL (5.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (2.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateBookings (20090721123754)
Migrating to CreateUsers (20090721124700)
Migrating to ChangeNameStructureInUsers (20090721144045)
Migrating to AddUserIdToBookings (20090721150515)
Migrating to CreateBookingNotes (20090721155330)
  [4;36;1mSQL (0.8ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (18.1ms)[0m   [0mCREATE TABLE "booking_notes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "booking_id" integer, "note" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090721155330')[0m
  [4;35;1mSQL (5.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (4.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mPRAGMA index_list("booking_notes")[0m
  [4;35;1mSQL (0.3ms)[0m   [0mPRAGMA index_list("bookings")[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;35;1mSQL (0.6ms)[0m   [0mPRAGMA index_info('index_users_on_login')[0m


Processing BookingsController#show (for 127.0.0.1 at 2009-07-21 16:55:56) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBooking Load (1.1ms)[0m   [0mSELECT * FROM "bookings" WHERE ("bookings"."id" = 1) [0m
  [4;36;1mBookingNote Load (1.7ms)[0m   [0;1mSELECT * FROM "booking_notes" WHERE ("booking_notes".booking_id = 1) [0m
Rendering template within layouts/bookings
Rendering bookings/show

ActionView::TemplateError (undefined local variable or method `notes' for #<ActionView::Base:0x33aaff4>) on line #15 of app/views/bookings/show.html.erb:
12:   <b>Notes:</b>
13: <% for note in @notes -%>
14:   <p>
15:     <%=h notes.note %>
16:   </p>
17: <% end %>
18: </p>

    app/views/bookings/show.html.erb:15
    app/views/bookings/show.html.erb:13:in `each'
    app/views/bookings/show.html.erb:13
    app/controllers/bookings_controller.rb:20:in `show'

Rendered rescues/_trace (344.8ms)
Rendered rescues/_request_and_response (0.9ms)
Rendering rescues/layout (internal_server_error)


Processing BookingsController#show (for 127.0.0.1 at 2009-07-21 16:56:23) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBooking Load (1.2ms)[0m   [0mSELECT * FROM "bookings" WHERE ("bookings"."id" = 1) [0m
  [4;36;1mBookingNote Load (1.2ms)[0m   [0;1mSELECT * FROM "booking_notes" WHERE ("booking_notes".booking_id = 1) [0m
Rendering template within layouts/bookings
Rendering bookings/show
  [4;35;1mUser Load (2.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 200ms (View: 128, DB: 4) | 200 OK [http://localhost/bookings/1]


Processing BookingsController#show (for 127.0.0.1 at 2009-07-21 16:57:17) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBooking Load (1.3ms)[0m   [0;1mSELECT * FROM "bookings" WHERE ("bookings"."id" = 1) [0m
  [4;35;1mBookingNote Load (4.8ms)[0m   [0mSELECT * FROM "booking_notes" WHERE ("booking_notes".booking_id = 1) [0m
Rendering template within layouts/bookings
Rendering bookings/show
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 183ms (View: 105, DB: 8) | 200 OK [http://localhost/bookings/1]


Processing BookingsController#index (for 127.0.0.1 at 2009-07-21 16:58:10) [GET]
  [4;35;1mUser Load (1.9ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mUser Load (1.9ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mBooking Load (2.0ms)[0m   [0mSELECT * FROM "bookings" WHERE ("bookings".user_id = 1) [0m
Rendering template within layouts/bookings
Rendering bookings/index
Completed in 168ms (View: 35, DB: 6) | 200 OK [http://localhost/bookings]


Processing BookingsController#index (for 127.0.0.1 at 2009-07-21 16:59:22) [GET]
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mUser Load (1.9ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mBooking Load (1.4ms)[0m   [0;1mSELECT * FROM "bookings" WHERE ("bookings".user_id = 1) [0m
Rendering template within layouts/bookings
Rendering bookings/index
  [4;35;1mSQL (2.8ms)[0m   [0mSELECT count(*) AS count_all FROM "booking_notes" WHERE ("booking_notes".booking_id = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "booking_notes" WHERE ("booking_notes".booking_id = 2) [0m
Completed in 420ms (View: 105, DB: 9) | 200 OK [http://localhost/bookings]


Processing BookingsController#index (for 127.0.0.1 at 2009-07-21 17:02:56) [GET]
  [4;35;1mUser Load (1.8ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mBooking Load (1.5ms)[0m   [0mSELECT * FROM "bookings" WHERE ("bookings".user_id = 1) [0m
Rendering template within layouts/bookings
Rendering bookings/index
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "booking_notes" WHERE ("booking_notes".booking_id = 1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "booking_notes" WHERE ("booking_notes".booking_id = 2) [0m

ActionView::TemplateError (undefined local variable or method `noteNumb' for #<ActionView::Base:0x32237f8>) on line #16 of app/views/bookings/index.html.erb:
13:     <td><%=h booking.DepartureDate %></td>
14:     <% if noteCount = booking.booking_notes.count() > 1 then %>
15:     <td><%=h noteCount %> notes</td>
16:     <% elsif noteNumb > 0 %>
17:     <td><%=h noteCount %> note</td>
18:     <% else %>
19:     <td></td>

    app/views/bookings/index.html.erb:16
    app/views/bookings/index.html.erb:10:in `each'
    app/views/bookings/index.html.erb:10
    app/controllers/bookings_controller.rb:8:in `index'

Rendered rescues/_trace (135.5ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (internal_server_error)


Processing BookingsController#index (for 127.0.0.1 at 2009-07-21 17:03:24) [GET]
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mBooking Load (2.2ms)[0m   [0;1mSELECT * FROM "bookings" WHERE ("bookings".user_id = 1) [0m
Rendering template within layouts/bookings
Rendering bookings/index
  [4;35;1mSQL (2.1ms)[0m   [0mSELECT count(*) AS count_all FROM "booking_notes" WHERE ("booking_notes".booking_id = 1) [0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "booking_notes" WHERE ("booking_notes".booking_id = 2) [0m

ActionView::TemplateError (undefined local variable or method `noteNumb' for #<ActionView::Base:0x32185ec>) on line #16 of app/views/bookings/index.html.erb:
13:     <td><%=h booking.DepartureDate %></td>
14:     <% if (noteCount = booking.booking_notes.count()) > 1 then %>
15:     <td><%=h noteCount %> notes</td>
16:     <% elsif noteNumb > 0 %>
17:     <td><%=h noteCount %> note</td>
18:     <% else %>
19:     <td></td>

    app/views/bookings/index.html.erb:16
    app/views/bookings/index.html.erb:10:in `each'
    app/views/bookings/index.html.erb:10
    app/controllers/bookings_controller.rb:8:in `index'

Rendered rescues/_trace (165.0ms)
Rendered rescues/_request_and_response (1.4ms)
Rendering rescues/layout (internal_server_error)


Processing BookingsController#index (for 127.0.0.1 at 2009-07-21 17:04:18) [GET]
  [4;35;1mUser Load (2.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mUser Load (1.8ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mBooking Load (1.4ms)[0m   [0mSELECT * FROM "bookings" WHERE ("bookings".user_id = 1) [0m
Rendering template within layouts/bookings
Rendering bookings/index
  [4;36;1mSQL (1.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "booking_notes" WHERE ("booking_notes".booking_id = 1) [0m
  [4;35;1mSQL (1.1ms)[0m   [0mSELECT count(*) AS count_all FROM "booking_notes" WHERE ("booking_notes".booking_id = 2) [0m

ActionView::TemplateError (undefined local variable or method `noteNumb' for #<ActionView::Base:0x31dd168>) on line #18 of app/views/bookings/index.html.erb:
15:       noteCount = booking.booking_notes.count()
16:      if noteCount > 1 then %>
17:     <td><%=h noteCount %> notes</td>
18:     <% elsif noteNumb > 0 %>
19:     <td><%=h noteCount %> note</td>
20:     <% else %>
21:     <td></td>

    app/views/bookings/index.html.erb:18
    app/views/bookings/index.html.erb:10:in `each'
    app/views/bookings/index.html.erb:10
    app/controllers/bookings_controller.rb:8:in `index'

Rendered rescues/_trace (177.3ms)
Rendered rescues/_request_and_response (0.9ms)
Rendering rescues/layout (internal_server_error)


Processing BookingsController#index (for 127.0.0.1 at 2009-07-21 17:05:40) [GET]
  [4;36;1mUser Load (1.8ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mUser Load (2.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mBooking Load (1.8ms)[0m   [0;1mSELECT * FROM "bookings" WHERE ("bookings".user_id = 1) [0m
Rendering template within layouts/bookings
Rendering bookings/index
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "booking_notes" WHERE ("booking_notes".booking_id = 1) [0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "booking_notes" WHERE ("booking_notes".booking_id = 2) [0m

ActionView::TemplateError (undefined local variable or method `noteNumb' for #<ActionView::Base:0x31696b4>) on line #18 of app/views/bookings/index.html.erb:
15:       noteCount = booking.booking_notes.count()
16:       if noteCount > 1 then %>
17:     <td><%=h noteCount %> notes</td>
18:     <% elsif noteNumb > 0 %>
19:     <td><%=h noteCount %> note</td>
20:     <% else %>
21:     <td></td>

    app/views/bookings/index.html.erb:18
    app/views/bookings/index.html.erb:10:in `each'
    app/views/bookings/index.html.erb:10
    app/controllers/bookings_controller.rb:8:in `index'

Rendered rescues/_trace (142.8ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (internal_server_error)


Processing BookingsController#index (for 127.0.0.1 at 2009-07-21 17:07:36) [GET]
  [4;35;1mUser Load (2.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mBooking Load (2.0ms)[0m   [0mSELECT * FROM "bookings" WHERE ("bookings".user_id = 1) [0m
Rendering template within layouts/bookings
Rendering bookings/index
  [4;36;1mSQL (1.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "booking_notes" WHERE ("booking_notes".booking_id = 1) [0m
  [4;35;1mSQL (1.1ms)[0m   [0mSELECT count(*) AS count_all FROM "booking_notes" WHERE ("booking_notes".booking_id = 2) [0m
Completed in 769ms (View: 74, DB: 9) | 200 OK [http://localhost/bookings]


Processing BookingsController#show (for 127.0.0.1 at 2009-07-21 19:34:45) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBooking Load (4.9ms)[0m   [0;1mSELECT * FROM "bookings" WHERE ("bookings"."id" = 1) [0m
  [4;35;1mBookingNote Load (1.5ms)[0m   [0mSELECT * FROM "booking_notes" WHERE ("booking_notes".booking_id = 1) [0m
Rendering template within layouts/bookings
Rendering bookings/show
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 159ms (View: 100, DB: 8) | 200 OK [http://localhost/bookings/1]


Processing BookingsController#edit (for 127.0.0.1 at 2009-07-21 19:34:51) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBooking Load (2.6ms)[0m   [0mSELECT * FROM "bookings" WHERE ("bookings"."id" = 1) [0m
Rendering template within layouts/bookings
Rendering bookings/edit
  [4;36;1mUser Load (2.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 423ms (View: 378, DB: 5) | 200 OK [http://localhost/bookings/1/edit]


Processing BookingsController#index (for 127.0.0.1 at 2009-07-21 19:34:54) [GET]
  [4;35;1mUser Load (1.9ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mUser Load (2.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mBooking Load (3.3ms)[0m   [0mSELECT * FROM "bookings" WHERE ("bookings".user_id = 1) [0m
Rendering template within layouts/bookings
Rendering bookings/index
  [4;36;1mSQL (1.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "booking_notes" WHERE ("booking_notes".booking_id = 1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "booking_notes" WHERE ("booking_notes".booking_id = 2) [0m
Completed in 212ms (View: 69, DB: 9) | 200 OK [http://localhost/bookings]


Processing BookingsController#index (for 127.0.0.1 at 2009-07-21 19:51:31) [GET]
  [4;36;1mUser Load (3.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mBooking Load (4.2ms)[0m   [0;1mSELECT * FROM "bookings" WHERE ("bookings".user_id = 1) [0m
Rendering template within layouts/bookings
Rendering bookings/index
ERROR: compiling _run_erb_app47views47bookings47index46html46erb RAISED compile error
/Users/steph/Sites/railsdev/yosite/app/views/bookings/index.html.erb:33: syntax error, unexpected kENSURE, expecting kEND
/Users/steph/Sites/railsdev/yosite/app/views/bookings/index.html.erb:35: syntax error, unexpected $end, expecting kEND
Function body:           def _run_erb_app47views47bookings47index46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<h1>Listing bookings</h1>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<table>\n"
@output_buffer.concat "  <tr>\n"
@output_buffer.concat "    <th>Arrival Date</th>\n"
@output_buffer.concat "    <th>Departure Date</th>\n"
@output_buffer.concat "    <th>Notes</th>\n"
@output_buffer.concat "  </tr>\n"
@output_buffer.concat "\n"
 @bookings.each do |booking| ; @output_buffer.concat "\n"
@output_buffer.concat "  <tr>\n"
@output_buffer.concat "    <td>"; @output_buffer.concat((h booking.ArrivalDate ).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "    <td>"; @output_buffer.concat((h booking.DepartureDate ).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "    <td>"; @output_buffer.concat(( link_to 'Show', booking ).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "    <td>"; @output_buffer.concat(( link_to 'Edit', edit_booking_path(booking) ).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "    <td>"; @output_buffer.concat(( link_to 'Destroy', booking, :confirm => 'Are you sure?', :method => :delete ).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "  </tr>\n"
@output_buffer.concat "  ";  if booking.booking_notes.count() > 0 ; @output_buffer.concat "</td>\n"
@output_buffer.concat "  <tr>\n"
@output_buffer.concat "    <td>Notes:</td>\n"
@output_buffer.concat "  </tr>\n"
@output_buffer.concat "  ";  @bookings.booking_notes.each do |note| 
@output_buffer.concat "  <tr>\n"
@output_buffer.concat "    <td></td>\n"
@output_buffer.concat "    <td colspan=\"*\">"; @output_buffer.concat((h note.note ).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "  </tr>\n"
 end ; @output_buffer.concat "\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<br />\n"
@output_buffer.concat "\n"
@output_buffer.concat(( link_to 'New booking', new_booking_path ).to_s); @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/steph/Sites/railsdev/yosite/app/views/bookings/index.html.erb:35:in `compile!'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:61:in `compile'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:28:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/template.rb:194:in `render_template'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:260:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:343:in `_render_with_layout'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:257:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1241:in `render_for_file'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:943:in `render_without_benchmark'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/mime_responds.rb:135:in `send'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/mime_responds.rb:135:in `custom'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/mime_responds.rb:179:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/mime_responds.rb:179:in `respond'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/mime_responds.rb:173:in `each'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/mime_responds.rb:173:in `respond'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/mime_responds.rb:107:in `respond_to'
/Users/steph/Sites/railsdev/yosite/app/controllers/bookings_controller.rb:8:in `index'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1322:in `send'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1322:in `perform_action_without_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:617:in `call_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/flash.rb:141:in `perform_action'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `send'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `process_without_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:606:in `process'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:391:in `process'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:386:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/routing/route_set.rb:433:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:88:in `dispatch'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:111:in `_call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:82:in `initialize'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:9:in `cache'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:28:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/head.rb:9:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/methodoverride.rb:24:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/params_parser.rb:15:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/rewindable_input.rb:25:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/session/cookie_store.rb:93:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/reloader.rb:9:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/failsafe.rb:11:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `synchronize'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:106:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rails-2.3.2/lib/rails/rack/static.rb:31:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/urlmap.rb:46:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/urlmap.rb:40:in `each'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/urlmap.rb:40:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rails-2.3.2/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/content_length.rb:13:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/chunked.rb:15:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/handler/mongrel.rb:61:in `process'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.0.1/lib/mongrel.rb:618:in `process_client'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.0.1/lib/mongrel.rb:617:in `each'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.0.1/lib/mongrel.rb:617:in `process_client'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.0.1/lib/mongrel.rb:736:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.0.1/lib/mongrel.rb:736:in `initialize'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.0.1/lib/mongrel.rb:736:in `new'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.0.1/lib/mongrel.rb:736:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.0.1/lib/mongrel.rb:720:in `initialize'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.0.1/lib/mongrel.rb:720:in `new'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.0.1/lib/mongrel.rb:720:in `run'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/handler/mongrel.rb:34:in `run'
/usr/local/lib/ruby/gems/1.8/gems/rails-2.3.2/lib/commands/server.rb:111
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/Users/steph/Sites/railsdev/yosite/app/views/bookings/index.html.erb:33: syntax error, unexpected kENSURE, expecting kEND
/Users/steph/Sites/railsdev/yosite/app/views/bookings/index.html.erb:35: syntax error, unexpected $end, expecting kEND) on line #33 of app/views/bookings/index.html.erb:
30: <br />
31: 
32: <%= link_to 'New booking', new_booking_path %>

    app/views/bookings/index.html.erb:35:in `compile!'
    app/controllers/bookings_controller.rb:8:in `index'

Rendered rescues/_trace (489.7ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (internal_server_error)


Processing BookingsController#index (for 127.0.0.1 at 2009-07-21 19:52:19) [GET]
  [4;35;1mUser Load (6.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mUser Load (1.7ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mBooking Load (5.7ms)[0m   [0mSELECT * FROM "bookings" WHERE ("bookings".user_id = 1) [0m
Rendering template within layouts/bookings
Rendering bookings/index
  [4;36;1mSQL (1.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "booking_notes" WHERE ("booking_notes".booking_id = 1) [0m

ActionView::TemplateError (undefined method `booking_notes' for #<Array:0x32f68c4>) on line #22 of app/views/bookings/index.html.erb:
19:   <tr>
20:     <td>Notes:</td>
21:   </tr>
22:   <% @bookings.booking_notes.each do |note| -%>
23:   <tr>
24:     <td></td>
25:     <td colspan="*"><%=h note.note %></td>

    app/views/bookings/index.html.erb:22
    app/views/bookings/index.html.erb:10:in `each'
    app/views/bookings/index.html.erb:10
    app/controllers/bookings_controller.rb:8:in `index'

Rendered rescues/_trace (522.7ms)
Rendered rescues/_request_and_response (1.4ms)
Rendering rescues/layout (internal_server_error)


Processing BookingsController#index (for 127.0.0.1 at 2009-07-21 19:52:52) [GET]
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mUser Load (2.8ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mBooking Load (2.1ms)[0m   [0mSELECT * FROM "bookings" WHERE ("bookings".user_id = 1) [0m
Rendering template within layouts/bookings
Rendering bookings/index
  [4;36;1mSQL (2.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "booking_notes" WHERE ("booking_notes".booking_id = 1) [0m
  [4;35;1mBookingNote Load (1.5ms)[0m   [0mSELECT * FROM "booking_notes" WHERE ("booking_notes".booking_id = 1) [0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "booking_notes" WHERE ("booking_notes".booking_id = 2) [0m
Completed in 280ms (View: 123, DB: 13) | 200 OK [http://localhost/bookings]


Processing BookingsController#index (for 127.0.0.1 at 2009-07-21 19:53:20) [GET]
  [4;35;1mUser Load (4.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mBooking Load (6.1ms)[0m   [0mSELECT * FROM "bookings" WHERE ("bookings".user_id = 1) [0m
Rendering template within layouts/bookings
Rendering bookings/index
  [4;36;1mSQL (1.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "booking_notes" WHERE ("booking_notes".booking_id = 1) [0m
  [4;35;1mBookingNote Load (6.3ms)[0m   [0mSELECT * FROM "booking_notes" WHERE ("booking_notes".booking_id = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "booking_notes" WHERE ("booking_notes".booking_id = 2) [0m
Completed in 306ms (View: 152, DB: 20) | 200 OK [http://localhost/bookings]


Processing BookingsController#index (for 127.0.0.1 at 2009-07-21 19:54:04) [GET]
  [4;35;1mUser Load (5.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mUser Load (7.8ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mBooking Load (1.5ms)[0m   [0mSELECT * FROM "bookings" WHERE ("bookings".user_id = 1) [0m
Rendering template within layouts/bookings
Rendering bookings/index
  [4;36;1mSQL (2.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM "booking_notes" WHERE ("booking_notes".booking_id = 1) [0m
  [4;35;1mBookingNote Load (1.4ms)[0m   [0mSELECT * FROM "booking_notes" WHERE ("booking_notes".booking_id = 1) [0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "booking_notes" WHERE ("booking_notes".booking_id = 2) [0m
Completed in 285ms (View: 106, DB: 20) | 200 OK [http://localhost/bookings]


Processing BookingsController#index (for 127.0.0.1 at 2009-07-21 19:54:19) [GET]
  [4;35;1mUser Load (2.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mUser Load (3.7ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mBooking Load (3.2ms)[0m   [0mSELECT * FROM "bookings" WHERE ("bookings".user_id = 1) [0m
Rendering template within layouts/bookings
Rendering bookings/index
  [4;36;1mSQL (1.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM "booking_notes" WHERE ("booking_notes".booking_id = 1) [0m
  [4;35;1mBookingNote Load (4.1ms)[0m   [0mSELECT * FROM "booking_notes" WHERE ("booking_notes".booking_id = 1) [0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM "booking_notes" WHERE ("booking_notes".booking_id = 2) [0m
Completed in 282ms (View: 103, DB: 17) | 200 OK [http://localhost/bookings]


Processing BookingsController#index (for 127.0.0.1 at 2009-07-21 19:55:59) [GET]
  [4;35;1mUser Load (2.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mUser Load (1.7ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mBooking Load (2.0ms)[0m   [0mSELECT * FROM "bookings" WHERE ("bookings".user_id = 1) [0m
Rendering template within layouts/bookings
Rendering bookings/index
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "booking_notes" WHERE ("booking_notes".booking_id = 1) [0m
  [4;35;1mBookingNote Load (1.4ms)[0m   [0mSELECT * FROM "booking_notes" WHERE ("booking_notes".booking_id = 1) [0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM "booking_notes" WHERE ("booking_notes".booking_id = 2) [0m
Completed in 557ms (View: 106, DB: 10) | 200 OK [http://localhost/bookings]


Processing BookingsController#show (for 127.0.0.1 at 2009-07-21 19:56:30) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBooking Load (5.7ms)[0m   [0mSELECT * FROM "bookings" WHERE ("bookings"."id" = 1) [0m
  [4;36;1mBookingNote Load (4.0ms)[0m   [0;1mSELECT * FROM "booking_notes" WHERE ("booking_notes".booking_id = 1) [0m
Rendering template within layouts/bookings
Rendering bookings/show
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 232ms (View: 132, DB: 11) | 200 OK [http://localhost/bookings/1]
  [4;36;1mSQL (3.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateBookings (20090721123754)
Migrating to CreateUsers (20090721124700)
Migrating to ChangeNameStructureInUsers (20090721144045)
Migrating to AddUserIdToBookings (20090721150515)
Migrating to CreateBookingNotes (20090721155330)
Migrating to AddCreatedByToBookingsAndNotes (20090721183807)
  [4;36;1mSQL (0.7ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (2.0ms)[0m   [0mALTER TABLE "bookings" ADD "created_by" integer[0m
  [4;36;1mSQL (20.8ms)[0m   [0;1mALTER TABLE "booking_notes" ADD "created_by" integer[0m
  [4;35;1mSQL (2.4ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090721183807')[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (7.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mPRAGMA index_list("booking_notes")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mPRAGMA index_list("bookings")[0m
  [4;35;1mSQL (3.0ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mPRAGMA index_info('index_users_on_login')[0m
  [4;36;1mSQL (2.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (2.7ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.6ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddCreatedByToBookingsAndNotes (20090721183807)
  [4;36;1mSQL (1.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (8.4ms)[0m   [0mCREATE TEMPORARY TABLE "altered_bookings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "ArrivalDate" date, "DepartureDate" date, "created_at" datetime, "updated_at" datetime, "user_id" integer, "created_by" integer) [0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mPRAGMA index_list("bookings")[0m
  [4;35;1mSQL (1.0ms)[0m   [0mDROP TABLE "bookings"[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCREATE TABLE "bookings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "ArrivalDate" date, "DepartureDate" date, "created_at" datetime, "updated_at" datetime, "user_id" integer) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("altered_bookings")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP TABLE "altered_bookings"[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCREATE TEMPORARY TABLE "altered_booking_notes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "booking_id" integer, "note" text, "created_at" datetime, "updated_at" datetime, "created_by" integer) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("booking_notes")[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP TABLE "booking_notes"[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCREATE TABLE "booking_notes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "booking_id" integer, "note" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("altered_booking_notes")[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mDROP TABLE "altered_booking_notes"[0m
  [4;35;1mSQL (0.6ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20090721183807'[0m
  [4;36;1mSQL (4.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.6ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mPRAGMA index_list("booking_notes")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mPRAGMA index_list("bookings")[0m
  [4;35;1mSQL (0.7ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mPRAGMA index_info('index_users_on_login')[0m
  [4;36;1mSQL (2.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (3.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateBookings (20090721123754)
Migrating to CreateUsers (20090721124700)
Migrating to ChangeNameStructureInUsers (20090721144045)
Migrating to AddUserIdToBookings (20090721150515)
Migrating to CreateBookingNotes (20090721155330)
Migrating to AddAuthorToBookingsAndNotes (20090721193613)
  [4;36;1mSQL (5.6ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (4.3ms)[0m   [0mALTER TABLE "bookings" ADD "author" integer[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mALTER TABLE "booking_notes" ADD "author" integer[0m
  [4;35;1mSQL (0.7ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090721193613')[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (4.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mPRAGMA index_list("booking_notes")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mPRAGMA index_list("bookings")[0m
  [4;35;1mSQL (1.1ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mPRAGMA index_info('index_users_on_login')[0m
  [4;36;1mSQL (10.1ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (4.7ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddAuthorToBookingsAndNotes (20090721193613)
  [4;36;1mSQL (2.8ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (4.2ms)[0m   [0mCREATE TEMPORARY TABLE "altered_bookings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "ArrivalDate" date, "DepartureDate" date, "created_at" datetime, "updated_at" datetime, "user_id" integer, "author" integer) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("bookings")[0m
  [4;35;1mSQL (3.7ms)[0m   [0mDROP TABLE "bookings"[0m
  [4;36;1mSQL (2.5ms)[0m   [0;1mCREATE TABLE "bookings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "ArrivalDate" date, "DepartureDate" date, "created_at" datetime, "updated_at" datetime, "user_id" integer) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("altered_bookings")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP TABLE "altered_bookings"[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCREATE TEMPORARY TABLE "altered_booking_notes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "booking_id" integer, "note" text, "created_at" datetime, "updated_at" datetime, "author" integer) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("booking_notes")[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP TABLE "booking_notes"[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCREATE TABLE "booking_notes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "booking_id" integer, "note" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mPRAGMA index_list("altered_booking_notes")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP TABLE "altered_booking_notes"[0m
  [4;35;1mSQL (1.9ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20090721193613'[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mPRAGMA index_list("booking_notes")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mPRAGMA index_list("bookings")[0m
  [4;35;1mSQL (0.7ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mPRAGMA index_info('index_users_on_login')[0m
  [4;36;1mSQL (5.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (5.6ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateBookings (20090721123754)
Migrating to CreateUsers (20090721124700)
Migrating to ChangeNameStructureInUsers (20090721144045)
Migrating to AddUserIdToBookings (20090721150515)
Migrating to CreateBookingNotes (20090721155330)
Migrating to AddAuthorToBookingsAndNotes (20090721193613)
  [4;36;1mSQL (0.8ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (4.8ms)[0m   [0mALTER TABLE "bookings" ADD "author_id" integer[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mALTER TABLE "booking_notes" ADD "author_id" integer[0m
  [4;35;1mSQL (0.6ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090721193613')[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (2.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (4.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.9ms)[0m   [0mPRAGMA index_list("booking_notes")[0m
  [4;36;1mSQL (5.0ms)[0m   [0;1mPRAGMA index_list("bookings")[0m
  [4;35;1mSQL (2.5ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mPRAGMA index_info('index_users_on_login')[0m


Processing BookingsController#show (for 127.0.0.1 at 2009-07-21 20:42:50) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBooking Load (12.2ms)[0m   [0;1mSELECT * FROM "bookings" WHERE ("bookings"."id" = 1) [0m
  [4;35;1mBookingNote Load (2.0ms)[0m   [0mSELECT * FROM "booking_notes" WHERE ("booking_notes".booking_id = 1) [0m
Rendering template within layouts/bookings
Rendering bookings/show

ActionView::TemplateError (undefined method `author' for #<BookingNote:0x3202a08>) on line #17 of app/views/bookings/show.html.erb:
14:   <p>
15:     <%=h note.note %>
16:   </p>
17:   <%=h note.author.name %>
18: <% end %>
19: </p>
20: 

    app/views/bookings/show.html.erb:17
    app/views/bookings/show.html.erb:13:in `each'
    app/views/bookings/show.html.erb:13
    app/controllers/bookings_controller.rb:20:in `show'

Rendered rescues/_trace (203.6ms)
Rendered rescues/_request_and_response (1.8ms)
Rendering rescues/layout (internal_server_error)


Processing BookingsController#show (for 127.0.0.1 at 2009-07-21 20:43:09) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBooking Load (1.3ms)[0m   [0;1mSELECT * FROM "bookings" WHERE ("bookings"."id" = 1) [0m
  [4;35;1mBookingNote Load (1.5ms)[0m   [0mSELECT * FROM "booking_notes" WHERE ("booking_notes".booking_id = 1) [0m
Rendering template within layouts/bookings
Rendering bookings/show

ActionView::TemplateError (undefined method `Author' for #<BookingNote:0x320b7c0>) on line #17 of app/views/bookings/show.html.erb:
14:   <p>
15:     <%=h note.note %>
16:   </p>
17:   <%=h note.Author.name %>
18: <% end %>
19: </p>
20: 

    app/views/bookings/show.html.erb:17
    app/views/bookings/show.html.erb:13:in `each'
    app/views/bookings/show.html.erb:13
    app/controllers/bookings_controller.rb:20:in `show'

Rendered rescues/_trace (243.6ms)
Rendered rescues/_request_and_response (1.5ms)
Rendering rescues/layout (internal_server_error)


Processing BookingsController#show (for 127.0.0.1 at 2009-07-21 20:43:55) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBooking Load (3.4ms)[0m   [0;1mSELECT * FROM "bookings" WHERE ("bookings"."id" = 1) [0m
  [4;35;1mBookingNote Load (4.7ms)[0m   [0mSELECT * FROM "booking_notes" WHERE ("booking_notes".booking_id = 1) [0m
Rendering template within layouts/bookings
Rendering bookings/show
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m

ActionView::TemplateError (undefined method `name' for "#<User:0x31795f0>":User) on line #17 of app/views/bookings/show.html.erb:
14:   <p>
15:     <%=h note.note %>
16:   </p>
17:   <%=h note.author.name %>
18: <% end %>
19: </p>
20: 

    app/views/bookings/show.html.erb:17
    app/views/bookings/show.html.erb:13:in `each'
    app/views/bookings/show.html.erb:13
    app/controllers/bookings_controller.rb:20:in `show'

Rendered rescues/_trace (209.4ms)
Rendered rescues/_request_and_response (1.7ms)
Rendering rescues/layout (internal_server_error)


Processing BookingsController#show (for 127.0.0.1 at 2009-07-21 20:44:17) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBooking Load (4.2ms)[0m   [0mSELECT * FROM "bookings" WHERE ("bookings"."id" = 1) [0m
  [4;36;1mBookingNote Load (3.1ms)[0m   [0;1mSELECT * FROM "booking_notes" WHERE ("booking_notes".booking_id = 1) [0m
Rendering template within layouts/bookings
Rendering bookings/show
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m

ActionView::TemplateError (undefined method `name' for "#<User:0x316e7cc>":User) on line #17 of app/views/bookings/show.html.erb:
14:   <p>
15:     <%=h note.note %>
16:   </p>
17:   <%=h note.author.name %>
18: <% end %>
19: </p>
20: 

    app/views/bookings/show.html.erb:17
    app/views/bookings/show.html.erb:13:in `each'
    app/views/bookings/show.html.erb:13
    app/controllers/bookings_controller.rb:20:in `show'

Rendered rescues/_trace (200.2ms)
Rendered rescues/_request_and_response (1.2ms)
Rendering rescues/layout (internal_server_error)


Processing BookingsController#show (for 127.0.0.1 at 2009-07-21 20:44:43) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBooking Load (1.3ms)[0m   [0;1mSELECT * FROM "bookings" WHERE ("bookings"."id" = 1) [0m
  [4;35;1mBookingNote Load (1.8ms)[0m   [0mSELECT * FROM "booking_notes" WHERE ("booking_notes".booking_id = 1) [0m
Rendering template within layouts/bookings
Rendering bookings/show
  [4;36;1mUser Load (5.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 282ms (View: 185, DB: 10) | 200 OK [http://localhost/bookings/1]


Processing BookingsController#show (for 127.0.0.1 at 2009-07-21 20:44:55) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBooking Load (1.3ms)[0m   [0mSELECT * FROM "bookings" WHERE ("bookings"."id" = 1) [0m
  [4;36;1mBookingNote Load (6.9ms)[0m   [0;1mSELECT * FROM "booking_notes" WHERE ("booking_notes".booking_id = 1) [0m
Rendering template within layouts/bookings
Rendering bookings/show
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m

ActionView::TemplateError (undefined method `name' for "#<User:0x33e2d14>":User) on line #17 of app/views/bookings/show.html.erb:
14:   <p>
15:     <%=h note.note %>
16:   </p>
17:   <%=h note.author.name() %>
18: <% end %>
19: </p>
20: 

    app/views/bookings/show.html.erb:17
    app/views/bookings/show.html.erb:13:in `each'
    app/views/bookings/show.html.erb:13
    app/controllers/bookings_controller.rb:20:in `show'

Rendered rescues/_trace (487.9ms)
Rendered rescues/_request_and_response (1.4ms)
Rendering rescues/layout (internal_server_error)


Processing BookingsController#show (for 127.0.0.1 at 2009-07-21 20:45:05) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBooking Load (1.2ms)[0m   [0;1mSELECT * FROM "bookings" WHERE ("bookings"."id" = 1) [0m
  [4;35;1mBookingNote Load (3.5ms)[0m   [0mSELECT * FROM "booking_notes" WHERE ("booking_notes".booking_id = 1) [0m
Rendering template within layouts/bookings
Rendering bookings/show
  [4;36;1mUser Load (3.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 265ms (View: 162, DB: 10) | 200 OK [http://localhost/bookings/1]


Processing BookingsController#show (for 127.0.0.1 at 2009-07-21 20:46:10) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBooking Load (2.2ms)[0m   [0mSELECT * FROM "bookings" WHERE ("bookings"."id" = 1) [0m
  [4;36;1mBookingNote Load (2.2ms)[0m   [0;1mSELECT * FROM "booking_notes" WHERE ("booking_notes".booking_id = 1) [0m
Rendering template within layouts/bookings
Rendering bookings/show
  [4;35;1mUser Load (2.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (6.9ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 316ms (View: 191, DB: 14) | 200 OK [http://localhost/bookings/1]


Processing BookingsController#show (for 127.0.0.1 at 2009-07-21 20:47:06) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBooking Load (2.1ms)[0m   [0;1mSELECT * FROM "bookings" WHERE ("bookings"."id" = 1) [0m
  [4;35;1mBookingNote Load (2.3ms)[0m   [0mSELECT * FROM "booking_notes" WHERE ("booking_notes".booking_id = 1) [0m
Rendering template within layouts/bookings
Rendering bookings/show
  [4;36;1mUser Load (2.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 586ms (View: 187, DB: 8) | 200 OK [http://localhost/bookings/1]


Processing BookingsController#show (for 127.0.0.1 at 2009-07-21 20:47:30) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBooking Load (1.4ms)[0m   [0;1mSELECT * FROM "bookings" WHERE ("bookings"."id" = 1) [0m
  [4;35;1mBookingNote Load (1.5ms)[0m   [0mSELECT * FROM "booking_notes" WHERE ("booking_notes".booking_id = 1) [0m
Rendering template within layouts/bookings
Rendering bookings/show
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 388ms (View: 265, DB: 6) | 200 OK [http://localhost/bookings/1]


Processing BookingsController#show (for 127.0.0.1 at 2009-07-21 20:48:27) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBooking Load (1.2ms)[0m   [0;1mSELECT * FROM "bookings" WHERE ("bookings"."id" = 1) [0m
  [4;35;1mBookingNote Load (1.6ms)[0m   [0mSELECT * FROM "booking_notes" WHERE ("booking_notes".booking_id = 1) [0m
Rendering template within layouts/bookings
Rendering bookings/show
  [4;36;1mUser Load (4.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (2.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 686ms (View: 565, DB: 9) | 200 OK [http://localhost/bookings/1]


Processing BookingsController#show (for 127.0.0.1 at 2009-07-21 20:49:25) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBooking Load (1.4ms)[0m   [0;1mSELECT * FROM "bookings" WHERE ("bookings"."id" = 1) [0m
  [4;35;1mBookingNote Load (2.4ms)[0m   [0mSELECT * FROM "booking_notes" WHERE ("booking_notes".booking_id = 1) [0m
Rendering template within layouts/bookings
Rendering bookings/show
  [4;36;1mUser Load (9.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (3.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 303ms (View: 186, DB: 16) | 200 OK [http://localhost/bookings/1]


Processing BookingsController#edit (for 127.0.0.1 at 2009-07-21 20:49:36) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBooking Load (1.8ms)[0m   [0;1mSELECT * FROM "bookings" WHERE ("bookings"."id" = 1) [0m
Rendering template within layouts/bookings
Rendering bookings/edit
  [4;35;1mUser Load (3.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 320ms (View: 247, DB: 5) | 200 OK [http://localhost/bookings/1/edit]


Processing BookingsController#update (for 127.0.0.1 at 2009-07-21 20:49:41) [PUT]
  Parameters: {"commit"=>"Update", "authenticity_token"=>"UiZvVz5ARuyLr2IwA7Nzfzvdfh0rfCTM6twCIxf9FpY=", "id"=>"1", "booking"=>{"DepartureDate(1i)"=>"2009", "DepartureDate(2i)"=>"8", "DepartureDate(3i)"=>"2", "ArrivalDate(1i)"=>"2009", "ArrivalDate(2i)"=>"7", "ArrivalDate(3i)"=>"25"}}
  [4;36;1mBooking Load (1.4ms)[0m   [0;1mSELECT * FROM "bookings" WHERE ("bookings"."id" = 1) [0m
  [4;35;1mBooking Update (2.4ms)[0m   [0mUPDATE "bookings" SET "DepartureDate" = '2009-08-02', "updated_at" = '2009-07-21 19:49:41' WHERE "id" = 1[0m
Redirected to http://localhost:3000/bookings/1
Completed in 119ms (DB: 4) | 302 Found [http://localhost/bookings/1]


Processing BookingsController#show (for 127.0.0.1 at 2009-07-21 20:49:42) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBooking Load (1.2ms)[0m   [0;1mSELECT * FROM "bookings" WHERE ("bookings"."id" = 1) [0m
  [4;35;1mBookingNote Load (1.6ms)[0m   [0mSELECT * FROM "booking_notes" WHERE ("booking_notes".booking_id = 1) [0m
Rendering template within layouts/bookings
Rendering bookings/show
  [4;36;1mUser Load (1.8ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 255ms (View: 160, DB: 6) | 200 OK [http://localhost/bookings/1]


Processing BookingsController#edit (for 127.0.0.1 at 2009-07-21 20:49:52) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBooking Load (1.2ms)[0m   [0;1mSELECT * FROM "bookings" WHERE ("bookings"."id" = 1) [0m
Rendering template within layouts/bookings
Rendering bookings/edit
  [4;35;1mUser Load (3.8ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 249ms (View: 202, DB: 5) | 200 OK [http://localhost/bookings/1/edit]


Processing BookingsController#update (for 127.0.0.1 at 2009-07-21 20:49:57) [PUT]
  Parameters: {"commit"=>"Update", "authenticity_token"=>"UiZvVz5ARuyLr2IwA7Nzfzvdfh0rfCTM6twCIxf9FpY=", "id"=>"1", "booking"=>{"DepartureDate(1i)"=>"2009", "DepartureDate(2i)"=>"8", "DepartureDate(3i)"=>"1", "ArrivalDate(1i)"=>"2009", "ArrivalDate(2i)"=>"7", "ArrivalDate(3i)"=>"25"}}
  [4;36;1mBooking Load (3.0ms)[0m   [0;1mSELECT * FROM "bookings" WHERE ("bookings"."id" = 1) [0m
  [4;35;1mBooking Update (1.7ms)[0m   [0mUPDATE "bookings" SET "DepartureDate" = '2009-08-01', "updated_at" = '2009-07-21 19:49:57' WHERE "id" = 1[0m
Redirected to http://localhost:3000/bookings/1
Completed in 83ms (DB: 5) | 302 Found [http://localhost/bookings/1]


Processing BookingsController#show (for 127.0.0.1 at 2009-07-21 20:49:57) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBooking Load (1.4ms)[0m   [0;1mSELECT * FROM "bookings" WHERE ("bookings"."id" = 1) [0m
  [4;35;1mBookingNote Load (5.2ms)[0m   [0mSELECT * FROM "booking_notes" WHERE ("booking_notes".booking_id = 1) [0m
Rendering template within layouts/bookings
Rendering bookings/show
  [4;36;1mUser Load (4.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (2.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 628ms (View: 175, DB: 13) | 200 OK [http://localhost/bookings/1]
